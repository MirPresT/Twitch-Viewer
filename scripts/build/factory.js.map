{"version":3,"sources":["scripts/factory.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACR,WAAO,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,CAC1B,OAAO,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC;;AAE9D,aAAS,aAAa,CAAC,KAAK,EAAC,EAAE,EAAE;;AAE7B,YAAI,OAAO,GAAG,8BAA8B,CAAC;AAC7C,YAAI,WAAW,GAAG,CAAC,YAAY,EAAC,cAAc,EAAC,iBAAiB,EAAC,SAAS,EAAC,cAAc,CAAC,CAAC;AAC3F,YAAI,aAAa,GAAG,CAAC,OAAO,EAAE,WAAW,EAAC,gBAAgB,EAAC,YAAY,EAAC,YAAY,EAAC,UAAU,EAAE,eAAe,EAAC,QAAQ,EAAC,KAAK,CAAC,CAAA;;AAEhI,YAAM,GAAG,GAAG,uCAAuC,CAAC;AACpD,YAAM,UAAU,GAAG,wCAAwC,CAAC;AAC5D,YAAM,QAAQ,GAAG,yBAAyB,CAAC;;AAE3C,YAAM,GAAG,GAAG;AACR,iBAAK,EAAE,iBAAW;AACd,oBAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,oBAAM,SAAS,GAAG,EAAE,CAAC;AACrB,2BAAW,EAAE,CAAC;;;AAGd,yBAAS,WAAW,GAAG;AACnB,+BAAW,CAAC,GAAG,CAAC,UAAA,OAAO,EAAI;AACvB,4BAAI,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;AACnC,gCAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,GAAC,OAAO,GAAC,QAAQ,CAAC,CAC5C,IAAI,CAAC,UAAA,IAAI,EAAI;AACV,uCAAO,IAAI,CAAC;6BACf,CAAC,CAAC;AACP,oCAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACvB,qCAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;yBAC3B,MAAM;AACH,mCAAO,CAAC,GAAG,iDAA+C,OAAO,UAAO,CAAC;yBAC5E,CAAC;qBACL,CAAC,CAAA;iBACL,CAAC;;AAEF,uBAAO,QAAQ,CAAC;aACnB;AACD,sBAAU,EAAG,oBAAS,GAAG,EAAE;;AACvB,uBAAO,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,QAAQ,CAAC,CAC7B,IAAI,CAAE,UAAA,IAAI,EAAI;AACX,2BAAO,IAAI,CAAC;iBACf,CAAC,CAAC;aACV;AACD,qBAAS,EAAG,mBAAU,QAAQ,EAAG;;AAC7B,uBAAO,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,QAAQ,GAAG,QAAQ,CAAC,CACxC,IAAI,CAAE,UAAA,IAAI,EAAI;AACX,2BAAO,IAAI,CAAC;iBACf,CAAC,CAAC;aACV;SACJ,CAAC;;AAEF,eAAO,GAAG,CAAC;KACd;CAEJ,CAAA,EAAG,CAAA","file":"scripts/factory.js","sourcesContent":["(function() {\r\n    angular.module('factories', [])\r\n        .factory('getTwitchData', ['$http', '$q', getTwitchData]);\r\n\r\n    function getTwitchData($http,$q) {\r\n\r\n        var baseUrl = 'https://api/twitch.tv/kraken';\r\n        var defChannels = ['comster404','freecodecamp','kittyplaysgames','twosync','freecodecamp'];\r\n        var otherChannels = ['krzjn', 'kaypealol','mrgoldensports','vgbootcamp','sodapoppin','femsteph', 'streamerhouse','joshog','pgl']\r\n\r\n        const url = 'https://api.twitch.tv/kraken/streams/';\r\n        const channelUrl = 'https://api.twitch.tv/kraken/channels/';\r\n        const callBack = '?callback=JSON_CALLBACK';\r\n\r\n        const obj = {\r\n            async: function() {\r\n                let promises = [];\r\n                const completed = [];\r\n                setPromises();\r\n\r\n                // make a request for each channel with a promise\r\n                function setPromises() {\r\n                    defChannels.map(channel => {\r\n                        if (completed.indexOf(channel) === -1) {\r\n                            const promise = $http.jsonp(url+channel+callBack)\r\n                                .then(data => {\r\n                                    return data;\r\n                                });\r\n                            promises.push(promise);\r\n                            completed.push(channel);\r\n                        } else {\r\n                            console.log(`repeat channel found in default list \\n--- ${channel} ---`);\r\n                        };\r\n                    })\r\n                };\r\n\r\n                return promises;\r\n            },\r\n            getChannel : function(str) { // passing in entire link\r\n                return $http.jsonp(str + callBack)\r\n                    .then( data => {\r\n                        return data;\r\n                    });\r\n            },\r\n            getStream : function( profName ) { // passing in entire link\r\n                return $http.jsonp(url + profName + callBack)\r\n                    .then( data => {\r\n                        return data;\r\n                    });\r\n            }\r\n        };\r\n\r\n        return obj;\r\n    }\r\n\r\n})()\r\n"]}