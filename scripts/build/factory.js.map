{"version":3,"sources":["scripts/factory.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACR,WAAO,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,CAC1B,OAAO,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC;;AAE9D,aAAS,aAAa,CAAC,KAAK,EAAE;;AAE1B,YAAI,OAAO,GAAG,8BAA8B,CAAC;AAC7C,YAAI,WAAW,GAAG,CAAC,YAAY,EAAC,cAAc,EAAC,iBAAiB,EAAC,SAAS,EAAE,OAAO,EAAE,WAAW,EAAC,gBAAgB,EAAC,YAAY,EAAC,YAAY,EAAC,UAAU,EAAE,eAAe,EAAC,QAAQ,CAAC,CAAC;;AAElL,YAAI,GAAG,GAAG,uCAAuC,CAAC;AAClD,YAAI,UAAU,GAAG,wCAAwC,CAAC;AAC1D,YAAI,QAAQ,GAAG,yBAAyB,CAAC;;AAEzC,YAAI,GAAG,GAAG;AACN,iBAAK,EAAE,iBAAW;AACd,oBAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,2BAAW,EAAE,CAAC;;;AAGd,yBAAS,WAAW,GAAG;AACnB,+BAAW,CAAC,GAAG,CAAC,UAAS,OAAO,EAAC;AAC7B,4BAAI,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,GAAC,OAAO,GAAC,QAAQ,CAAC,CAC1C,IAAI,CAAC,UAAS,IAAI,EAAC;AAChB,mCAAO,IAAI,CAAC;yBACf,CAAC,CAAC;AACP,gCAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,EAAC,OAAO,CAAC,CAAC,CAAC;qBACpC,CAAC,CAAA;iBACL,CAAC;;AAEF,uBAAO,QAAQ,CAAC;aACnB;AACD,sBAAU,EAAG,oBAAS,QAAQ,EAAE;AAC5B,uBAAO,KAAK,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,GAAG,QAAQ,CAAC,CAC/C,IAAI,CAAC,UAAS,IAAI,EAAC;AAChB,2BAAO,IAAI,CAAC;iBACf,CAAC,CAAC;aACV;SACJ,CAAC;;AAEF,eAAO,GAAG,CAAC;KACd;CAEJ,CAAA,EAAG,CAAA","file":"scripts/factory.js","sourcesContent":["(function() {\r\n    angular.module('factories', [])\r\n        .factory('getTwitchData', ['$http', '$q', getTwitchData]);\r\n\r\n    function getTwitchData($http) {\r\n\r\n        var baseUrl = 'https://api/twitch.tv/kraken';\r\n        var defChannels = ['comster404','freecodecamp','kittyplaysgames','twosync', 'krzjn', 'kaypealol','mrgoldensports','vgbootcamp','sodapoppin','femsteph', 'streamerhouse','joshog'];\r\n\r\n        var url = 'https://api.twitch.tv/kraken/streams/';\r\n        var channelUrl = 'https://api.twitch.tv/kraken/channels/';\r\n        var callBack = '?callback=JSON_CALLBACK';\r\n\r\n        var obj = {\r\n            async: function() {\r\n                var promises = [];\r\n                setPromises();\r\n\r\n                // make a request for each channel with a promise\r\n                function setPromises() {\r\n                    defChannels.map(function(channel){\r\n                        var promise = $http.jsonp(url+channel+callBack)\r\n                            .then(function(data){\r\n                                return data;\r\n                            });\r\n                        promises.push([channel,promise]);\r\n                    })\r\n                };\r\n\r\n                return promises;\r\n            },\r\n            getChannel : function(userName) {\r\n                return $http.jsonp(channelUrl + userName + callBack)\r\n                    .then(function(data){\r\n                        return data;\r\n                    });\r\n            }\r\n        };\r\n\r\n        return obj;\r\n    }\r\n\r\n})()\r\n"]}